"use strict";(self.webpackChunkcodec_wiki=self.webpackChunkcodec_wiki||[]).push([[4897],{1806:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>a});var n=i(4848),t=i(8453);const s={title:"VideoToolbox",sidebar_position:4},d="VideoToolbox",r={id:"encoders_hw/videotoolbox",title:"VideoToolbox",description:"The content in this entry is incomplete & is in the process of being completed.",source:"@site/docs/encoders_hw/videotoolbox.mdx",sourceDirName:"encoders_hw",slug:"/encoders_hw/videotoolbox",permalink:"/docs/encoders_hw/videotoolbox",draft:!1,unlisted:!1,editUrl:"https://github.com/av1-community-contributors/codec-wiki/tree/main/docs/encoders_hw/videotoolbox.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"VideoToolbox",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"AMF",permalink:"/docs/encoders_hw/amf"},next:{title:"Mediacodec",permalink:"/docs/encoders_hw/mediacodec"}},c={},a=[{value:"Usage",id:"usage",level:2},{value:"FFmpeg",id:"ffmpeg",level:3},{value:"Handbrake",id:"handbrake",level:3}];function l(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"videotoolbox",children:"VideoToolbox"}),"\n",(0,n.jsx)(o.admonition,{title:"Under Maintenance",type:"info",children:(0,n.jsx)(o.p,{children:"The content in this entry is incomplete & is in the process of being completed."})}),"\n",(0,n.jsx)(o.p,{children:"Apple's VideoToolbox is a low-level framework that provides direct access to hardware encoders and decoders. It offers services for video compression and decompression, as well as conversion between raster image formats stored in CoreVideo pixel buffers. The VideoToolbox encoder works by compressing video data for various applications such as low-latency conferencing, live streaming, and offline transcoding. It supports hardware encoding on most Macs from 2011 and later, and uses Apple's Media Engine on devices with Apple T2 chips or Apple Silicon."}),"\n",(0,n.jsxs)(o.p,{children:["The encoder can be configured to optimize encoding for specific applications, and it supports various video codecs including ",(0,n.jsx)(o.a,{href:"/docs/video/AVC",children:"H.264"}),", ",(0,n.jsx)(o.a,{href:"/docs/video/HEVC",children:"H.265"}),", with support for H.265 8-bit and 10-bit encoding. It is worth noting that the VideoToolbox encoder is designed for applications that require direct access to hardware encoders and decoders."]}),"\n",(0,n.jsxs)(o.p,{children:["Apple's VideoToolbox framework also supports hardware accelerated video decoding for a number of video codecs. As of the Apple M3, these include ",(0,n.jsx)(o.a,{href:"/docs/video/AVC",children:"H.264"}),", ",(0,n.jsx)(o.a,{href:"/docs/video/HEVC",children:"H.265"}),", ",(0,n.jsx)(o.a,{href:"/docs/video/prores",children:"ProRes"}),", ProRes RAW, and ",(0,n.jsx)(o.a,{href:"/docs/video/AV1",children:"AV1"}),"."]}),"\n",(0,n.jsx)(o.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsxs)(o.p,{children:["Encoding with Videotoolbox on macOS is possible via ",(0,n.jsx)(o.a,{href:"/docs/utilities/ffmpeg",children:"FFmpeg"}),", a versatile command line utility, or Handbrake, a GUI for video encoding."]}),"\n",(0,n.jsx)(o.h3,{id:"ffmpeg",children:"FFmpeg"}),"\n",(0,n.jsxs)(o.p,{children:["To use H.264 or H.265 (HEVC) hardware encoding in macOS via VideoToolbox, just use the encoder ",(0,n.jsx)(o.code,{children:"-c:v h264_videotoolbox"})," or ",(0,n.jsx)(o.code,{children:"-c:v hevc_videotoolbox"})," for H.264 or HEVC respectively."]}),"\n",(0,n.jsx)(o.p,{children:"Here are some example commands for encoding with VideoToolbox on Apple Silicon via FFmpeg:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",metastring:'title="H.264 encoding (high profile)"',children:"ffmpeg -i input.mkv -c:v h264_videotoolbox -profile 100 -q:v [0-100] output.mp4\n"})}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",metastring:'title="8-bit HEVC encoding (main profile)"',children:"ffmpeg -i input.mkv -c:v hevc_videotoolbox -profile 1 -q:v [0-100] -tag:v hvc1 output.mp4\n"})}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",metastring:'title="10-bit HEVC encoding (main10 profile)"',children:"ffmpeg -i input.mkv -c:v hevc_videotoolbox -profile 2 -q:v [0-100] -tag:v hvc1 output.mp4\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Just run ",(0,n.jsx)(o.code,{children:"ffmpeg -help encoder=hevc_videotoolbox"})," or ",(0,n.jsx)(o.code,{children:"ffmpeg -help encoder=h264_videotoolbox"})," for more info."]}),"\n",(0,n.jsx)(o.h3,{id:"handbrake",children:"Handbrake"}),"\n",(0,n.jsx)(o.p,{children:"To be filled."}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.em,{children:"Sources"}),"\n(1) Video Toolbox | Apple Developer Documentation. ",(0,n.jsx)(o.a,{href:"https://developer.apple.com/documentation/videotoolbox",children:"https://developer.apple.com/documentation/videotoolbox"}),".\n(2) HandBrake Documentation \u2014 Apple VideoToolbox. ",(0,n.jsx)(o.a,{href:"https://handbrake.fr/docs/en/latest/technical/video-videotoolbox.html",children:"https://handbrake.fr/docs/en/latest/technical/video-videotoolbox.html"}),".\n(3) Apple's T2 chip makes a giant difference in video encoding for most .... ",(0,n.jsx)(o.a,{href:"https://appleinsider.com/articles/19/04/09/apples-t2-chip-makes-a-giant-difference-in-video-encoding-for-most-users",children:"https://appleinsider.com/articles/19/04/09/apples-t2-chip-makes-a-giant-difference-in-video-encoding-for-most-users"}),"."]})]})}function p(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453:(e,o,i)=>{i.d(o,{R:()=>d,x:()=>r});var n=i(6540);const t={},s=n.createContext(t);function d(e){const o=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(s.Provider,{value:o},e.children)}}}]);